{% load static %}
<div class="sticky top-0 z-50 flex flex-row justify-between items-center md:px-10 px-3">
    <!-- Logo Section -->
    <div>
        <a href="{% url 'homepage' %}">
            <img src="{% static 'img/logo.png' %}" alt="Tresinfra" class="h-20 w-20">
        </a>
    </div>

    <!-- Navigation Section -->
    <div>
        <!-- Hamburger Menu (Visible on Mobile) -->
        <div class="md:hidden">
            <button id="menu-toggle">
                <i id="menu-icon" class="fa fa-bars text-red-700 text-3xl flex" aria-hidden="true"></i>
                <i id="close-icon" class="hidden fa fa-times text-red-700 text-3xl" aria-hidden="true"></i>
            </button>
        </div>

        <!-- Navigation Links -->
        <ul id="menu" class=" flex flex-col gap-y-3 py-4  md:flex-row gap-x-4 md:gap-x-4 absolute md:static bg-white md:bg-transparent top-16 md:top-auto left-0 w-full md:w-auto shadow md:shadow-none my-4">
            <li><a href="{% url 'homepage' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'homepage' %} text-red-700 {% endif %}">Home</a></li>
            <li><a href="{% url 'about_us' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'about_us' %} text-red-700 {% endif %}">About</a></li>
            <li><a href="{% url 'services' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'services' %} text-red-700 {% endif %}">Services</a></li>
            <li><a href="{% url 'contact' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'contact' %} text-red-700 {% endif %}">Contact</a></li>
            <li><a href="{% url 'esg' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'esg' %} text-red-700 {% endif %}">Impact & Esg</a></li>
            <li><a href="{% url 'blog_list' %}" class="px-4 py-2 hover:text-red-700 {% if request.resolver_match.url_name == 'blog_list' %} text-red-700 {% endif %}">Blogs</a></li>
        </ul>
    </div>
</div>
<script>
    $(document).ready(function(){
        $(document).ready(function () {
            $('#menu-toggle').click(function () {
                // Toggle the menu visibility
                $('#menu').toggleClass('show');
        
                // Check if menu has the 'show' class
                if ($('#menu').hasClass('show')) {
                    console.log("Menu is visible");
                    $('#menu-icon').addClass('hidden').removeClass('flex');
                    $('#close-icon').addClass('flex').removeClass('hidden');
                } else {
                    console.log("Menu is hidden");
                    $('#close-icon').addClass('hidden').removeClass('flex');
                    $('#menu-icon').addClass('flex').removeClass('hidden');
                }
            });
        });
        
    });
</script>
{% comment %} <script>
    // Ensure script runs after DOM content is loaded
    document.addEventListener('DOMContentLoaded', () => {
        const menuToggle = document.getElementById('menu-toggle');
        const menu = document.getElementById('menu');
        const menuIcon = document.getElementById('menu-icon');
        const closeIcon = document.getElementById('close-icon');
    
        menuToggle.addEventListener('click', () => {
            menu.classList.toggle('show'); // Toggle the menu
    
            // Toggle visibility of icons
            if (menu.getAttribute('class').includes('show')) {
                console.log('Toggling visibility of icons')
                menuIcon.classList.add('hidden');
                
            } else {
                closeIcon.classList.add('hidden');
                closeIcon.classList.remove('flex');
                menuIcon.classList.add('flex');
                menuIcon.classList.remove('hidden');
            }
        });
    });
    
    
</script> {% endcomment %}
